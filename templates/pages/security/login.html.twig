{% extends 'base.html.twig' %}

{% block title %}Connexion
{% endblock %}

{% block body %}
	<div class="container mx-auto my-10">
		<div class="flex justify-center">
			<div class="block p-6 rounded-lg shadow-lg bg-white max-w-sm">

			{# Affiche les messages flash success #}
			{% for message in app.flashes('success') %}
				<div class="bg-green-100 rounded-lg py-5 px-6 mb-4 text-base text-green-700" role="alert">
					{{ message }}
				</div>
			{% endfor %}

			{# Affiche les messages flash error #}
			{% if error %}
				<div class="bg-red-100 rounded-lg py-5 px-6 mb-4 text-base text-red-700" role="alert">
					{{ error.messageKey|trans(error.messageData, 'security') }}
				</div>
			{% endif %}
				
				{# Formulaire de connexion #}
				<form action="{{ path('security.login') }}" method='post'>
				
					<div class="form-group mb-6">
						{# Input email #}
						<label for="email" class="block text-gray-500 uppercase tracking-wider text-sm font-bold">Email</label>
						<input type="email" class="form-control block w-full text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none" id="username" name="_username" placeholder="exemple@pizzeria.fr" value="{{ last_username }}">
					</div>

					<div class="form-group mb-6">
						{# Input password #}
						<label for="password" class="block text-gray-500 uppercase tracking-wider text-sm font-bold">Mot de passe</label>
						<input type="password" class="form-control block w-full text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none" id="password" name="_password" placeholder="********">
					</div>

					{# Boutton de connexion #}
					<button type="submit" class="w-full px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out">Connexion</button>
				</form>
			</div>
		</div>

		{# Pour rediriger l'utilisateur sur la page d'inscription si pas de compte utilisateur existant #}
		<div class="flex flex-row justify-center my-10">
			<p>Pas encore inscrit ?
				{# Boutton de redirection sur la page d'inscription #}
				<a href="{{ path('security.registration') }}" class="text-blue-600 hover:text-blue-800">Inscrivez-vous ici !</a>
			</p>
		</div>
	</div>
{% endblock %}
